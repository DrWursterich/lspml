{
  "name": "spel",
  "word": "_word",
  "rules": {
    "document": {
      "type": "SYMBOL",
      "name": "_object_item"
    },
    "_object_item": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "SYMBOL",
            "name": "method_access"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "field_access"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "array_offset"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "global_function"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "interpolated_anchor"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "number"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "boolean"
          }
        },
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "string"
          }
        },
        {
          "type": "SYMBOL",
          "name": "object"
        }
      ]
    },
    "_expression_item": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "interpolated_string"
          },
          {
            "type": "SYMBOL",
            "name": "bracketed_expression"
          },
          {
            "type": "SYMBOL",
            "name": "number"
          },
          {
            "type": "SYMBOL",
            "name": "expression"
          },
          {
            "type": "SYMBOL",
            "name": "unary_expression"
          },
          {
            "type": "SYMBOL",
            "name": "ternary_expression"
          }
        ]
      }
    },
    "_condition_item": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "condition"
        },
        {
          "type": "SYMBOL",
          "name": "bracketed_condition"
        },
        {
          "type": "SYMBOL",
          "name": "unary_condition"
        },
        {
          "type": "SYMBOL",
          "name": "expression_comparison"
        },
        {
          "type": "SYMBOL",
          "name": "equality_comparison"
        },
        {
          "type": "PREC",
          "value": -1,
          "content": {
            "type": "SYMBOL",
            "name": "boolean"
          }
        }
      ]
    },
    "bracketed_expression": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "SYMBOL",
          "name": "_expression_item"
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "bracketed_condition": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "SYMBOL",
          "name": "_condition_item"
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "object": {
      "type": "SYMBOL",
      "name": "_word"
    },
    "string": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "'"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "PATTERN",
                "value": "[^'$!]+"
              },
              {
                "type": "SYMBOL",
                "name": "escaped_string"
              },
              {
                "type": "PREC",
                "value": 1,
                "content": {
                  "type": "SYMBOL",
                  "name": "interpolated_string"
                }
              },
              {
                "type": "PREC",
                "value": 2,
                "content": {
                  "type": "SYMBOL",
                  "name": "interpolated_anchor"
                }
              },
              {
                "type": "PREC",
                "value": 3,
                "content": {
                  "type": "STRING",
                  "value": "$"
                }
              },
              {
                "type": "PREC",
                "value": 4,
                "content": {
                  "type": "STRING",
                  "value": "!"
                }
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "'"
        }
      ]
    },
    "escaped_string": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "\\b"
        },
        {
          "type": "STRING",
          "value": "\\t"
        },
        {
          "type": "STRING",
          "value": "\\n"
        },
        {
          "type": "STRING",
          "value": "\\f"
        },
        {
          "type": "STRING",
          "value": "\\r"
        },
        {
          "type": "STRING",
          "value": "\\\""
        },
        {
          "type": "STRING",
          "value": "\\'"
        },
        {
          "type": "STRING",
          "value": "\\\\"
        },
        {
          "type": "PATTERN",
          "value": "\\\\u[0-9a-fA-F]{4}"
        }
      ]
    },
    "number": {
      "type": "PREC",
      "value": 10,
      "content": {
        "type": "PATTERN",
        "value": "[0-9]+(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?"
      }
    },
    "boolean": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "true"
        },
        {
          "type": "STRING",
          "value": "false"
        }
      ]
    },
    "global_function": {
      "type": "SYMBOL",
      "name": "_function"
    },
    "field": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 1,
          "content": {
            "type": "SYMBOL",
            "name": "interpolated_string"
          }
        },
        {
          "type": "SYMBOL",
          "name": "_word"
        }
      ]
    },
    "method": {
      "type": "SYMBOL",
      "name": "_function"
    },
    "field_access": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_object_item"
        },
        {
          "type": "STRING",
          "value": "."
        },
        {
          "type": "SYMBOL",
          "name": "field"
        }
      ]
    },
    "method_access": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_object_item"
        },
        {
          "type": "STRING",
          "value": "."
        },
        {
          "type": "SYMBOL",
          "name": "method"
        }
      ]
    },
    "array_offset": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_object_item"
        },
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "_expression_item"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "_function": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "function_name"
        },
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "argument"
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "STRING",
                        "value": ","
                      },
                      {
                        "type": "SYMBOL",
                        "name": "argument"
                      }
                    ]
                  }
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "function_name": {
      "type": "SYMBOL",
      "name": "_word"
    },
    "argument": {
      "type": "SYMBOL",
      "name": "_object_item"
    },
    "expression": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "PREC",
        "value": 2,
        "content": {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_expression_item"
            },
            {
              "type": "SYMBOL",
              "name": "expression_operator"
            },
            {
              "type": "SYMBOL",
              "name": "_expression_item"
            }
          ]
        }
      }
    },
    "expression_operator": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 6,
          "content": {
            "type": "STRING",
            "value": "+"
          }
        },
        {
          "type": "PREC",
          "value": 6,
          "content": {
            "type": "STRING",
            "value": "-"
          }
        },
        {
          "type": "PREC",
          "value": 7,
          "content": {
            "type": "STRING",
            "value": "*"
          }
        },
        {
          "type": "PREC",
          "value": 7,
          "content": {
            "type": "STRING",
            "value": "/"
          }
        },
        {
          "type": "PREC",
          "value": 8,
          "content": {
            "type": "STRING",
            "value": "^"
          }
        },
        {
          "type": "PREC",
          "value": 7,
          "content": {
            "type": "STRING",
            "value": "%"
          }
        }
      ]
    },
    "unary_expression": {
      "type": "PREC",
      "value": 9,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "unary_expression_operator"
          },
          {
            "type": "SYMBOL",
            "name": "_expression_item"
          }
        ]
      }
    },
    "unary_expression_operator": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 9,
          "content": {
            "type": "STRING",
            "value": "+"
          }
        },
        {
          "type": "PREC",
          "value": 9,
          "content": {
            "type": "STRING",
            "value": "-"
          }
        }
      ]
    },
    "ternary_expression": {
      "type": "PREC",
      "value": 1,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_condition_item"
          },
          {
            "type": "STRING",
            "value": "?"
          },
          {
            "type": "SYMBOL",
            "name": "_expression_item"
          },
          {
            "type": "STRING",
            "value": ":"
          },
          {
            "type": "SYMBOL",
            "name": "_expression_item"
          }
        ]
      }
    },
    "condition": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_condition_item"
          },
          {
            "type": "SYMBOL",
            "name": "condition_operator"
          },
          {
            "type": "SYMBOL",
            "name": "_condition_item"
          }
        ]
      }
    },
    "condition_operator": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 3,
          "content": {
            "type": "STRING",
            "value": "&&"
          }
        },
        {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "STRING",
            "value": "||"
          }
        }
      ]
    },
    "unary_condition": {
      "type": "PREC",
      "value": 9,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "STRING",
            "value": "!"
          },
          {
            "type": "SYMBOL",
            "name": "_condition_item"
          }
        ]
      }
    },
    "expression_comparison": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_expression_item"
          },
          {
            "type": "SYMBOL",
            "name": "expression_comparison_operator"
          },
          {
            "type": "SYMBOL",
            "name": "_expression_item"
          }
        ]
      }
    },
    "expression_comparison_operator": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 5,
          "content": {
            "type": "STRING",
            "value": ">"
          }
        },
        {
          "type": "PREC",
          "value": 5,
          "content": {
            "type": "STRING",
            "value": "<"
          }
        },
        {
          "type": "PREC",
          "value": 5,
          "content": {
            "type": "STRING",
            "value": ">="
          }
        },
        {
          "type": "PREC",
          "value": 5,
          "content": {
            "type": "STRING",
            "value": "<="
          }
        }
      ]
    },
    "equality_comparison": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "PREC",
                "value": 2,
                "content": {
                  "type": "SYMBOL",
                  "name": "interpolated_string"
                }
              },
              {
                "type": "PREC",
                "value": 1,
                "content": {
                  "type": "SYMBOL",
                  "name": "_object_item"
                }
              }
            ]
          },
          {
            "type": "SYMBOL",
            "name": "equality_comparison_operator"
          },
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "PREC",
                "value": 2,
                "content": {
                  "type": "SYMBOL",
                  "name": "interpolated_string"
                }
              },
              {
                "type": "PREC",
                "value": 1,
                "content": {
                  "type": "SYMBOL",
                  "name": "_object_item"
                }
              }
            ]
          }
        ]
      }
    },
    "equality_comparison_operator": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PREC",
          "value": 4,
          "content": {
            "type": "STRING",
            "value": "=="
          }
        },
        {
          "type": "PREC",
          "value": 4,
          "content": {
            "type": "STRING",
            "value": "!="
          }
        }
      ]
    },
    "interpolated_string": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "${"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "interpolated_string"
            },
            {
              "type": "SYMBOL",
              "name": "_object_item"
            },
            {
              "type": "SYMBOL",
              "name": "_expression_item"
            },
            {
              "type": "SYMBOL",
              "name": "_condition_item"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "interpolated_anchor": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "!{"
        },
        {
          "type": "REPEAT1",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "PATTERN",
                "value": "[^\"$\\}]+"
              },
              {
                "type": "SYMBOL",
                "name": "interpolated_string"
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "_word": {
      "type": "PATTERN",
      "value": "[a-zA-Z_0-9]*[a-zA-Z_][a-zA-Z_0-9]*"
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "\\s+"
    }
  ],
  "conflicts": [
    [
      "_object_item",
      "_expression_item"
    ],
    [
      "_object_item",
      "_condition_item"
    ]
  ],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}

